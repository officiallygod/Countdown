<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Countdown (Business Days to Jan 6, 2026)</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="./assets/css/main.css" />
</head>

<body>
  <main class="container">
    <header class="header">
      <h1>Days Left</h1>
      <div class="sub">to Jan 6, 2026 (IST)</div>
    </header>

    <section class="counter">
      <div id="daysCount" class="days">0</div>
      <div id="status" class="status" aria-live="polite"></div>
      <div id="nowIst" class="now"></div>
    </section>

    <section class="holidays">
      <h2>Custom Holidays</h2>
      <p class="help">Excluded from the count. Dates are treated in IST.</p>
      <form id="holidayForm" class="holiday-form">
        <label>
          Date
          <input type="date" id="holidayDate" required />
        </label>
        <label>
          Label (optional)
          <input type="text" id="holidayLabel" placeholder="e.g., Diwali" />
        </label>
        <button type="submit">Add</button>
      </form>
      <ul id="holidayList" class="holiday-list"></ul>
      <button id="clearHolidays" class="clear">Clear All</button>
    </section>

    <section class="holidays">
      <h2>Preview Viewer</h2>
      <p class="help">Open the fullscreen viewer with a forced theme/date for testing.</p>
      <div class="holiday-form" style="margin-bottom:8px;">
        <button type="button" onclick="window.open('viewer.html','_blank')">Open Viewer (Normal)</button>
        <button type="button" onclick="window.open('viewer.html?preview=sunday','_blank')">Preview Sunday</button>
        <button type="button" onclick="window.open('viewer.html?preview=diwali','_blank')">Preview Diwali</button>
        <button type="button" onclick="window.open('viewer.html?preview=karnataka','_blank')">Preview Karnataka
          Rajyotsava</button>
        <button type="button" onclick="window.open('viewer.html?preview=christmas','_blank')">Preview Christmas</button>
        <button type="button" onclick="window.open('viewer.html?preview=newyear','_blank')">Preview New Year</button>
      </div>
      <div class="holiday-form">
        <label>
          Custom Date (IST)
          <input type="date" id="previewDate" />
        </label>
        <button type="button"
          onclick="(function(){var d=document.getElementById('previewDate').value; if(d){window.open('viewer.html?today='+d,'_blank');}})()">Preview
          Custom Date</button>
      </div>
      <div class="holiday-form" style="margin-top:8px; flex-wrap: wrap; gap: 8px;">
        <span class="help" style="min-width:160px">Time of day (IST):</span>
        <button type="button" class="btn morning"
          onclick="window.open('viewer.html?daypart=morning','_blank')">Morning</button>
        <button type="button" class="btn noon" onclick="window.open('viewer.html?daypart=noon','_blank')">Noon</button>
        <button type="button" class="btn evening"
          onclick="window.open('viewer.html?daypart=evening','_blank')">Evening</button>
        <button type="button" class="btn night"
          onclick="window.open('viewer.html?daypart=night','_blank')">Night</button>
      </div>
    </section>

    <footer class="footer">
      <small>Excludes Sundays and listed holidays. Uses IST.</small>
    </footer>
  </main>

  <!-- Embedded fallback config for file:// usage -->
  <script id="default-config" type="application/json">
{
  "target": "2026-01-05",
  "holidays": [
    { "date": "2025-10-22", "name": "Diwali", "theme": "diwali" },
    { "date": "2025-11-01", "name": "Karnataka Rajyotsava", "theme": "karnataka" },
    { "date": "2025-12-25", "name": "Christmas", "theme": "christmas" },
    { "date": "2026-01-01", "name": "New Year", "theme": "newyear" }
  ]
}
    </script>
  <script src="./assets/js/main.js"></script>
</body>

</html>